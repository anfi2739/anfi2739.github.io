/* ===== Base / variables ===== */
:root{
  --gap: 16px;
  --max-width: 1100px;
  --accent: #8b0000;
  --bg: #fff;
  --fg: #222;
}
* { box-sizing: border-box; }
body { margin:0; padding:16px; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:var(--bg); color:var(--fg); }

/* ===== NAV (your base styles preserved + small improvements) ===== */
.main-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background-color: rgba(144,2,2,0.48); /* #9002027a */
  position: relative;
  z-index: 20;
}
.nav-brand { font-weight:700; color:white; }
.nav-menu {
  display: flex;
  gap: 1.5rem;
  list-style: none;
  margin:0; padding:0;
}
.nav-menu a {
  text-decoration: none;
  color: #fff;
  padding: .5rem;
}
.nav-menu a:hover, .nav-menu a:focus {
  background-color: #917e7e;
  border-radius: 5px;
  outline: none;
}
.nav-toggle {
  display: none;
  background: none;
  border: 0;
  cursor: pointer;
}
.nav-toggle span {
  display: block;
  width: 25px;
  height: 3px;
  margin: 5px;
  background-color: #fff;
  border-radius: 2px;
}

/* ===== SITE GRID wrapper ===== */
.site-grid { max-width: var(--max-width); margin: 0 auto; gap: var(--gap); }

/* ================== HOME GRID (layout #1) ================== */
.home-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  grid-template-areas:
    "site-header site-header"
    "sub-nav sub-nav"
    "hero announcements"
    "featured announcements"
    "site-footer site-footer";
  gap: var(--gap);
  align-items: start;
}
.site-header { grid-area: site-header; display:flex; justify-content:space-between; align-items:center; padding:8px 0; }
.sub-nav { grid-area: sub-nav; padding:6px 0; }
.hero { grid-area: hero; background:#f9f7f7; padding:16px; border-radius:6px; }
.announcements { grid-area: announcements; background:#fff7ef; padding:16px; border-radius:6px; }
.featured { grid-area: featured; background:#f7fff7; padding:16px; border-radius:6px; }
.site-footer { grid-area: site-footer; text-align:center; padding:8px; color:#444; }

/* ================== RESOURCE GRID (layout #2) ================== */
.resource-grid {
  display: grid;
  grid-template-columns: 260px 1fr 300px;
  grid-template-areas:
    "res-header res-header res-header"
    "filters results map"
    "res-footer res-footer res-footer";
  gap: var(--gap);
}
.res-header { grid-area: res-header; padding:8px 0; }
.filters { grid-area: filters; padding:12px; background:#f2f2f2; border-radius:6px; }
.results { grid-area: results; padding:12px; }
.map { grid-area: map; padding:12px; background:#eef7ff; border-radius:6px; }
.res-footer { grid-area: res-footer; text-align:center; padding:8px; color:#666; }

/* ===== small components ===== */
.cta { display:inline-block; margin-top:12px; background:var(--accent); color:white; padding:8px 12px; border-radius:4px; text-decoration:none; }
.tagline { margin:0; color:#eee; font-size:0.95rem; }
.feature-list, .resource-list { padding:0; margin:0; list-style:none; }
.resource-item { padding:10px 8px; border-bottom:1px solid #eee; }

/* Focus visible for keyboard users */
.resource-item:focus, .nav-menu a:focus, button:focus, input:focus {
  outline: 3px solid #2a8;
  outline-offset: 2px;
}

/* High-contrast mode toggleable via JS by setting data-contrast on root */
:root[data-contrast="high"] {
  --bg: #000;
  --fg: #fff;
  --accent: #fff;
}
:root[data-contrast="high"] body { background: var(--bg); color: var(--fg); }

/* ===== Responsive rules (named grid area changes) ===== */
@media (max-width: 900px) {
  .home-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "site-header"
      "sub-nav"
      "hero"
      "featured"
      "announcements"
      "site-footer";
  }
  .resource-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "res-header"
      "filters"
      "results"
      "map"
      "res-footer";
  }
}

/* ===== Mobile nav behavior ===== */
@media (max-width: 768px) {
  .nav-menu {
    display: none;
    flex-direction: column;
    width: calc(100% - 32px);
    background-color: rgba(144,2,2,0.95);
    position: absolute;
    top: 64px;
    left: 16px;
    padding: 1rem;
    border-radius: 6px;
  }
  .nav-menu.show { display: flex; }
  .nav-toggle { display: block; }
}
